{% extends "admin/base.html" %}

{% from "macros/forms.html" import input, input_tooltip, checkbox_tooltip, textarea, button %}

{% block title %}
    {% if id %}
        {{_('edit WFS')}}
    {% else %}
        {{_('create WFS')}}
    {% endif %}
{% endblock %}


{% block content_right %}
<div class="row-fluid">
    <div class="span12">
        <h4>
            {% if id %}
                {{_('edit WFS')}}
            {% else %}
                {{_('create WFS')}}
            {% endif %}
        </h4>
    </div>
</div>

<form method="POST">
    {{ form.csrf_token }}

    <fieldset>
        <legend>{{ _('Map settings')}}</legend>
        <div class="row-fluid">
            <div class="span4">
                {{ input(form.name, class="span12") }}
            </div>
            <div class="span4">
               {{ input(form.host, class="span12") }}
            </div>
            <div class="span4">
                {{ input(form.geometry, class="span12") }}
            </div>
        </div>

        <div class="row-fluid">
            <div class="span12">
                {{ input(form.url, class="span12") }}
            </div>
        </div>

        <div class="row-fluid">
            <div class="span4">
                {{ input(form.layer) }}
                {{ input(form.ns_prefix) }}
            </div>
            <div class="span4">
                {{ input(form.srs) }}
                {{ input(form.ns_uri) }}
            </div>
        </div>
    </fieldset>

    <fieldset class="top-buffer-2">
        <legend>{{ _('GeoBox settings')}}</legend>
        <div class="row-fluid">
            <div class="span4">
                {{ input(form.search_property) }}
            </div>
            <div class="span4 offset2">
                {{ input(form.max_features) }}
            </div>
        </div>
    </fieldset>

    <fieldset class="top-buffer-2">
        <legend>{{ _('Account settings')}}</legend>
        <div class="row-fluid">
            <div class="span5">
                {{ checkbox(form.is_protected) }}
                {{ input(form.username, class="span12") }}
                {{ input(form.password, class="span12") }}
            </div>
            <div class="span6 offset1 top-buffer-1">
                {{ _('tooltip - protected service') }}
            </div>
        </div>
    </fieldset>
    <div class="row-fluid">
        <div class="span12">
            {{ button(_('save'), submit=True, btn_class='success') }}
        </div>
    </div>
</form>
{% endblock %}

{% block javascript %}
<script type="text/javascript" src="{{ url_for('static', filename='js/admin/base.js') }}"></script>
{% endblock %}
